# sources file for pdksh-5.2.14 - for use with Microsoft build utility
# This file will target a build for Interix
# See makefile.interix for more details

# ---- types of build ----
USE_LIBCDLL=0				// 1 - use dynamic linking to BSD LIBC - psxlibc.dll
USE_MIXED_MODE=0			// 1 - create a mixed mode console application

# ---- names and paths ----
rootdir=..\..			# base of your interix source tree ( - for makefile.interix)
topdir=..				# base of pdksh-5.2.14 target package
srcdir=..				# directory for source files (must be current or parent directory)
BUILD_DIR=..\build.cc   # build directory where config.h is (generated by interix cc)

!include $(rootdir)\makefile.interix		# master makefile for interix targets

#################################################

TARGETNAME=pdksh5214
TARGETTYPE=PROGRAM                  #[PROGRAM] or [DYNLINK] or [LIBRARY]
!if $(FREEBUILD)
TARGETPATH=$(rootdir)\release       # outdir
!else
TARGETPATH=$(rootdir)\debug
!endif

# common GNU tools defines
localedir=/usr/share/locale
includedir=/usr/local/include
libdir=/usr/local/lib

# ---- compiler settings ----
INCLUDES=$(BUILD_DIR);$(srcdir);$(INCLUDES)
COMPILER_WARNINGS=/wd4100 /wd4127 /wd4244 # disable specific warnings and disable <warning.h>
MSC_WARNING_LEVEL=/W4
USER_C_FLAGS=$(USER_C_FLAGS) /DHAVE_CONFIG_H -DLOCALEDIR=\"$(localedir)\" -DLIBDIR=\"$(libdir)\" -DINCLUDEDIR=\"$(includedir)\"

# ---- linker settings ----
LINKER_FLAGS=$(LINKER_FLAGS)
TARGETLIBS= $(INTERIX_LIBS) # $(CRT_LIB_PATH)\chkstk.obj $(CRT_LIB_PATH)\alloca16.obj

# ---- project files ----
SOURCES= \
	pdksh-5.2.14.rc					\
	$(srcdir)\pdksh-5.2.14.c		\
	$(srcdir)\yyyy.c

